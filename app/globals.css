@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    scroll-behavior: smooth;
  }
  
  /* Default to dark theme if no theme is set */
  html:not([data-theme]) {
    --bg-primary: #282828;
    --bg-secondary: #1d2021;
    --bg-tertiary: #3c3836;
    --bg-code: #1d2021;
    --bg-code-inline: #3c3836;
    --text-primary: #ebdbb2;
    --text-secondary: #d5c4a1;
    --text-muted: #a89984;
    --accent: #8806d4; /* modern cyan */
    --accent-hover: #38bdf8;
    --accent-rgb: 6 182 212;
    --border: #3c3836;
    --border-light: #504945;
    --blockquote-border: #d79921;
  }
  
  html[data-theme='dark'] {
    --bg-primary: #282828;
    --bg-secondary: #1d2021;
    --bg-tertiary: #3c3836;
    --bg-code: #1d2021;
    --bg-code-inline: #3c3836;
    --text-primary: #ebdbb2;
    --text-secondary: #d5c4a1;
    --text-muted: #a89984;
    --accent: #06d4b869; /* modern cyan */
    --accent-hover: #38bdf8;
    --accent-rgb: 6 182 212;
    --border: #3c3836;
    --border-light: #504945;
    --blockquote-border: #d79921;
    --radius: 0.6rem;
    --shadow-elev: 0 10px 30px rgba(0,0,0,0.45);
    --focus-ring: rgba(var(--accent-rgb), 0.18);
  }
  
  html[data-theme='light'] {
    --bg-primary: #fbf1c7;
    --bg-secondary: #f9f5d7;
    --bg-tertiary: #ebdbb2;
    --bg-code: #f9f5d7;
    --bg-code-inline: #ebdbb2;
    --text-primary: #3c3836;
    --text-secondary: #504945;
    --text-muted: #7c6f64;
    --accent: #0ea5b7; /* modern teal for light theme */
    --accent-hover: #0891b2;
    --accent-rgb: 14 165 183;
    --radius: 0.6rem;
    --shadow-elev: 0 6px 18px rgba(16,24,40,0.06);
    --focus-ring: rgba(var(--accent-rgb), 0.12);
    --border: #d5c4a1;
    --border-light: #bdae93;
    --blockquote-border: #b57614;
  }
  
  body {
    @apply antialiased;
    background-color: var(--bg-primary);
    color: var(--text-primary);
    transition: background-color 0.3s ease, color 0.3s ease;
  }
}

/* Modern utility components */
@layer components {
  .btn {
    @apply inline-flex items-center gap-2 px-3 py-1.5 font-medium;
    border-radius: var(--radius);
    background-color: var(--accent);
    color: white;
    box-shadow: 0 6px 16px rgba(2,6,23,0.3);
    transition: transform 0.12s ease, box-shadow 0.12s ease, background-color 0.12s ease;
  }
  .btn:hover {
    transform: translateY(-2px);
    background-color: var(--accent-hover);
  }

  .card {
    background-color: var(--bg-secondary);
    border: 1px solid var(--border);
    border-radius: var(--radius);
    box-shadow: var(--shadow-elev);
    padding: 1rem;
  }

  .focus-ring {
    outline: none;
    box-shadow: 0 0 0 4px var(--focus-ring);
    border-radius: var(--radius);
  }
}

@layer components {
  .prose {
    @apply max-w-none;
    line-height: 1.75;
  }
  
  .prose h1 {
    @apply text-3xl sm:text-4xl font-extralight mb-6 mt-8;
    color: var(--text-primary);
  }
  
  .prose h2 {
    @apply text-2xl sm:text-3xl font-light mb-4 mt-6;
    color: var(--text-primary);
  }
  
  .prose h3 {
    @apply text-xl sm:text-2xl font-light mb-3 mt-5;
    color: var(--text-primary);
  }
  
  .prose p {
    @apply mb-4 leading-7;
    color: var(--text-primary);
  }
  
  .prose a {
    @apply underline underline-offset-2 transition-colors font-medium;
    color: var(--accent);
  }
  
  .prose a:hover {
    color: var(--accent-hover);
  }
  
  .prose ul, .prose ol {
    @apply mb-4 ml-4 sm:ml-6;
  }
  
  .prose li {
    @apply mb-2;
    color: var(--text-primary);
  }
  
  .prose code {
    @apply px-1.5 py-0.5 rounded text-sm font-mono;
    background-color: var(--bg-code-inline);
    color: var(--text-primary);
  }
  
  .prose pre {
    @apply p-4 rounded overflow-x-auto mb-4;
    background-color: var(--bg-code);
    color: var(--text-primary);
    border: 1px solid var(--border);
  }
  
  .prose pre code {
    @apply bg-transparent p-0;
    color: var(--text-primary);
  }
  
  .prose blockquote {
    @apply border-l-2 pl-4 italic my-4;
    border-color: var(--blockquote-border);
    color: var(--text-secondary);
  }
  
  .prose img {
    @apply my-6 w-full;
  }
  
  .link-primary {
    color: var(--text-primary);
    transition: color 0.2s ease;
  }
  
  .link-primary:hover {
    color: var(--accent);
  }
  
  .link-secondary {
    color: var(--text-secondary);
    transition: color 0.2s ease;
  }
  
  .link-secondary:hover {
    color: var(--accent);
  }
  
  .link-accent {
    color: var(--accent);
    transition: color 0.2s ease;
  }
  
  .link-accent:hover {
    color: var(--accent-hover);
  }
  
  .link-muted {
    color: var(--text-muted);
    transition: color 0.2s ease;
  }
  
  .link-muted:hover {
    color: var(--accent);
  }
}

